generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model tp_pedido {
  cod_id              String        @id @default(uuid())
  nom_titulo          String?   
  dsc_tipo            TipoPedido
  dsc_status          StatusPedido
  cod_solicitante     String?
  nom_ra              String?
  cod_pasta           String? 
  cod_documento       String?
  nom_original        String?
  dsc_caminho_minio   String?
  dsc_metadados       Json?
  dsc_mensagem_erro   String?
  dhs_created         DateTime      @default(now())
  dhs_updated         DateTime      @updatedAt
}


enum TipoPedido {
  UPLOAD
  DOWNLOAD
  DELETE
  RENAME
}

enum StatusPedido {
  PENDING
  RECEIVED_BY_INGESTION
  PROCESSING_STARTED
  PROCESSED
  AIP_CREATED_TEMP
  AIP_UPLOAD_ORDERED
  AIP_UPLOADED_TO_MINIO
  COMPLETED
  FAILED
  MARKED_FOR_DELETION
  DELETED_FROM_MINIO
  QUEUED_FOR_PROCESSING
}